# О Nuvotion n76e003

Очень простой x51 копеечный микроконтроллер, делался китайцами как замена stm8s003, а потому во многом на него похож... даже расположением выводов.
В отличие от stm8s003 имеет второй UART, лишнюю свободную ногу, в 2 раза больше FLASH (EEPROM разшарен с FLASH), больше (8) каналов ADC [0...4095], и PWM с собственным таймером [0...2047].
Прошивается с помощью программатора NuLink - недорогого, и их полно на Ali. Замечен глюк, который при подключенном программаторе перезагружает контроллер, выполняющий свою программу. Так что в программе программатора, надо нажимать после загрузки Disconnect.
В общем ничего особенного. Просто рабочая лошадка. Для поделок вполне сойдет.

# О реализации

Библиотека подразумевает работу контроллера от встроенного генератора без внешнего кварца с частотой 16MHz.
Библиотека использует `Timer0` для delay(), millis() и других функций связанных с временем. Отсчет времени ведется только в миллисекундах, функции завязанные на микросекунды - отсутствуют. `Timer1` используется для работы `UART0 (Serial)`. Два таймера - 2 и 3 свободны.
Для вывода в `Serial` используется функция `uprintf("строка формата %d 0x%x\n", var1, var2);`. Поддерживаются модификаторы `%d` - десятичное целое, `%x` - шестнадцатеричное, `%o` - восьмиричное, `%b` - двоичное числа. Строка выводится просто как `uprintf("строка\n");`, а для символов пользуйтесь `putc(c);`. Старайтесь не передавать в uprintf много параметров, стэк в контроллере невелик, лучше вызовите функцию несколько раз.
